<!-- Creator     : groff version 1.21 -->
<!-- CreationDate: Sat Jan 28 16:41:18 2012 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<p style="margin-top: 1em"><b>NAME</b></p>

<p style="margin-left:6%;"><b>duff</b> &mdash; duplicate
file finder</p>

<p style="margin-top: 1em"><b>SYNOPSIS</b></p>

<p style="margin-left:6%;"><b>duff</b>
[<b>&minus;0HLPaeqprtz</b>]
[<b>&minus;d&nbsp;</b><i>function</i>]
[<b>&minus;f&nbsp;</b><i>format</i>]
[<b>&minus;l&nbsp;</b><i>limit</i>] [<i>file&nbsp;...</i>]
<b><br>
duff</b> [<b>&minus;h</b>] <b><br>
duff</b> [<b>&minus;v</b>]</p>

<p style="margin-top: 1em"><b>DESCRIPTION</b></p>

<p style="margin-left:6%;">The <b>duff</b> utility reports
clusters of duplicates in the specified files and/or
directories. In the default mode, <b>duff</b> prints a
customizable header, followed by the names of all the files
in the cluster. In excess mode, <b>duff</b> does not print a
header, but instead for each cluster prints the names of all
but the first of the files it includes.</p>

<p style="margin-left:6%; margin-top: 1em">If no files are
specified as arguments, <b>duff</b> reads file names from
stdin.</p>

<p style="margin-left:6%; margin-top: 1em">Note that as of
version 0.4, <b>duff</b> ignores symbolic links to files, as
that behavior was conceptually broken. Therefore, the
<b>&minus;H</b>, <b>&minus;L</b> and <b>&minus;P</b> options
now apply only to directories.</p>

<p style="margin-left:6%; margin-top: 1em">The following
options are available:</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;0</b></p>

<p style="margin-left:10%; margin-top: 1em">If reading file
names from stdin, assume they are null-terminated, instead
of separated by newlines. Also, when printing file names and
cluster headers, terminate them with null characters instead
of newlines.</p>

<p style="margin-left:10%; margin-top: 1em">This is useful
for file names containing whitespace or other non-standard
characters.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;H</b></p>

<p style="margin-left:10%; margin-top: 1em">Follow symbolic
links listed on the command line. This overrides any
previous <b>&minus;L</b> or <b>&minus;P</b> option. Note
that this only applies to directories, as symbolic links to
files are never followed.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;L</b></p>

<p style="margin-left:10%; margin-top: 1em">Follow all
symbolic links. This overrides any previous <b>&minus;H</b>
or <b>&minus;P</b> option. Note that this only applies to
directories, as symbolic links to files are never
followed.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;P</b></p>

<p style="margin-left:10%; margin-top: 1em">Don&rsquo;t
follow any symbolic links. This overrides any previous
<b>&minus;H</b> or <b>&minus;L</b> option. This is the
default. Note that this only applies to directories, as
symbolic links to files are never followed.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;a</b></p>

<p style="margin-left:10%; margin-top: 1em">Include hidden
files and directories when searching recursively.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;d</b>
<i>function</i></p>

<p style="margin-left:10%;">The message digest function to
use. The supported functions are <i>sha1</i>, <i>sha256</i>,
<i>sha384</i> and <i>sha512</i>. The default is
<i>sha1</i>.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;e</b></p>

<p style="margin-left:10%; margin-top: 1em">Excess mode.
List all but one file from each cluster of duplicates. Also
suppresses output of the cluster header. This is useful when
you want to automate removal of duplicate files and
don&rsquo;t care which duplicates are removed.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;f</b>
<i>format</i></p>

<p style="margin-left:10%;">Set the format of the cluster
header. If the header is set to the empty string, no header
line is printed.</p>

<p style="margin-left:10%; margin-top: 1em">The following
escape sequences are available:</p>

<p style="margin-left:12%; margin-top: 1em"><b>%n</b></p>

<p style="margin-left:15%;">The number of files in the
cluster.</p>

<p style="margin-left:12%; margin-top: 1em"><b>%c</b></p>

<p style="margin-left:15%;">A legacy synonym for <b>%d</b>,
for compatibility reasons.</p>

<p style="margin-left:12%; margin-top: 1em"><b>%d</b></p>

<p style="margin-left:15%;">The message digest of files in
the cluster. This may not be combined with <b>&minus;t</b>
as no digest is calculated.</p>

<p style="margin-left:12%; margin-top: 1em"><b>%i</b></p>

<p style="margin-left:15%;">The one-based index of the file
cluster.</p>

<p style="margin-left:12%; margin-top: 1em"><b>%s</b></p>

<p style="margin-left:15%;">The size, in bytes, of a file
in the cluster.</p>

<p style="margin-left:12%; margin-top: 1em"><b>%%</b></p>

<p style="margin-left:15%;">A &rsquo;%&rsquo;
character.</p>

<p style="margin-left:10%; margin-top: 1em">The default
format string when using <b>&minus;t</b> is:</p>

<p style="margin-left:12%; margin-top: 1em">%n files in
cluster %i (%s bytes)</p>

<p style="margin-left:10%; margin-top: 1em">The default
format string for other modes is:</p>

<p style="margin-left:12%; margin-top: 1em">%n files in
cluster %i (%s bytes, digest %d)</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;h</b></p>

<p style="margin-left:10%; margin-top: 1em">Display help
information and exit.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;l</b> <i>limit</i></p>

<p style="margin-left:10%;">The minimum size of files to be
sampled. If the size of files in a cluster is equal or
greater than the specified limit, <b>duff</b> will sample
and compare a few bytes from the start of each file before
calculating a full digest. This is stricly an optimization
and does not affect which files are considered by duff. The
default limit is zero bytes, i.e. to use sampling on all
files.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;q</b></p>

<p style="margin-left:10%; margin-top: 1em">Quiet mode.
Suppress warnings and error messages.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;p</b></p>

<p style="margin-left:10%; margin-top: 1em">Physical mode.
Make <b>duff</b> consider physical files instead of hard
links. If specified, multiple hard links to the same
physical file will not be reported as duplicates.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;r</b></p>

<p style="margin-left:10%; margin-top: 1em">Recursively
search into all specified directories.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;t</b></p>

<p style="margin-left:10%; margin-top: 1em">Thorough mode.
Distrust digests as a guarantee for equality. In thorough
mode, <b>duff</b> compares files byte by byte when their
sizes match.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;v</b></p>

<p style="margin-left:10%; margin-top: 1em">Display version
information and exit.</p>

<p style="margin-left:6%; margin-top: 1em"><b>&minus;z</b></p>

<p style="margin-left:10%; margin-top: 1em">Do not consider
empty files to be equal. This option prevents empty files
from being reported as duplicates.</p>

<p style="margin-top: 1em"><b>EXAMPLES</b></p>

<p style="margin-left:6%;">The command:</p>

<p style="margin-left:14%;">duff -r foo/</p>

<p style="margin-left:6%; margin-top: 1em">lists all
duplicate files in the directory foo and its
subdirectories.</p>

<p style="margin-left:6%; margin-top: 1em">The command:</p>

<p style="margin-left:14%;">duff -e0 * | xargs -0 rm</p>

<p style="margin-left:6%; margin-top: 1em">removes all
duplicate files in the current directory. Note that you have
no control over which files in each cluster that are
selected by <b>&minus;e</b> (excess mode). Use with
care.</p>

<p style="margin-left:6%; margin-top: 1em">The command:</p>

<p style="margin-left:14%;">find . -name &rsquo;*.h&rsquo;
-type f | duff</p>

<p style="margin-left:6%; margin-top: 1em">lists all
duplicate header files in the current directory and its
subdirectories.</p>

<p style="margin-left:6%; margin-top: 1em">The command:</p>

<p style="margin-left:14%;">find . -name &rsquo;*.h&rsquo;
-type f -print0 | duff -0 | xargs -0 -n1 echo</p>

<p style="margin-left:6%; margin-top: 1em">lists all
duplicate header files in the current directory and its
subdirectories, correctly handling file names containing
whitespace. Note the use of xargs and echo to remove the
null separators again before listing.</p>

<p style="margin-top: 1em"><b>DIAGNOSTICS</b></p>

<p style="margin-left:6%;">The <b>duff</b> utility
exits&nbsp;0 on success, and&nbsp;&gt;0 if an error
occurs.</p>

<p style="margin-top: 1em"><b>SEE ALSO</b></p>

<p style="margin-left:6%;">find(1), xargs(1)</p>

<p style="margin-top: 1em"><b>AUTHORS</b></p>

<p style="margin-left:6%;">Camilla Berglund &lang;
elmindreda@elmindreda.org&rang;</p>

<p style="margin-top: 1em"><b>BUGS</b></p>

<p style="margin-left:6%;"><b>duff</b> doesn&rsquo;t check
whether the same file has been specified twice on the
command line. This will lead it to report files listed
multiple times as duplicates when not using <b>&minus;p</b>
(physical mode). Note that this problem only affects files,
not directories.</p>

<p style="margin-left:6%; margin-top: 1em"><b>duff</b> no
longer (as of version 0.4) reports symbolic links to files
as duplicates, as they&rsquo;re by definition always
duplicates. This may break scripts relying on the previous
behavior.</p>

<p style="margin-left:6%; margin-top: 1em">If the
underlying files are modified while duff is running, all
bets are off. This is not really a bug, but it can still
bite you.</p>

</body>
</html>
